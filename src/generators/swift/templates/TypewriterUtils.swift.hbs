/**
 * This client was automatically generated by RudderStack Typewriter. ** Do Not Edit **
 */

import Foundation
import Rudder

extension Array {
    func serializableArray() -> [Any] {
        var result = [Any]()
        
        for item in self {
            if let arr = item as? [Any] {
                result.append(arr.serializableArray())
            } else if let obj = item as? TypewriterSerializable {
                result.append(obj.serializableDictionary())
            } else {
                result.append(item)
            }
        }
        return result
    }
}

class TypewriterUtils {
    static func addContextFields(_ options: RSOption?) -> RSOption {
        options = options ?? RSOption() 
        let typewriterContext = [
            "typewriter": [
                "language": "swift",
                "version": "{{typewriterVersion}}"
            ]
        ]
        options.putContext(typewriterContext)
        return options
    }
}
